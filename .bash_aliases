# ~/.bash_aliases
# ==============================================================================
#
#   Обновленная и расширенная коллекция псевдонимов Bash
#
# ==============================================================================
alias ha='h-alias'              # Краткий псевдоним для списка alias.
alias fa='h-func'               # Краткий псевдоним для списка функций.
alias ex='exit'               # Краткий псевдоним для списка функций.

# -- Раздел 1: Навигация и отображение содержимого --
# Улучшенный и цветной вывод 'ls'
alias ls='ls -AhF --color=auto' # Улучшенный и цветной вывод 'ls' (показывает скрытые файлы, добавляет индикаторы типа).
alias l='ls -l'                 # Краткий псевдоним для 'ls -l' (длинный формат).
alias ll='ls -alF'              # Показывает все файлы (включая скрытые) в длинном формате с индикаторами типа.
alias la='ls -la'               # Показывает все файлы (включая скрытые) в длинном формате.
alias lart='ls -alrt'           # Показывает все файлы в длинном формате, отсортированные по времени изменения в обратном порядке.
alias lS='ls -alSrh'            # Показывает все файлы, отсортированные по размеру (от большего к меньшему) в удобном формате.
alias lt='ls --human-readable --size -1 -S --classify' # Сортирует файлы по размеру (от большего к меньшему) и выводит в одну колонку.

# -- Быстрая навигация по каталогам --
alias ..='cd ..'                # Быстрый переход в родительский каталог.
alias ...='cd ../..'            # Быстрый переход на два каталога вверх.
alias ....='cd ../../..'        # Быстрый переход на три каталога вверх.
alias cd..='cd ..'              # Корректирует частую опечатку при переходе в родительский каталог.
alias cdb='cd -'                # Переключает на предыдущий рабочий каталог.
alias gt='cd "$(git rev-parse --show-toplevel 2>/dev/null)"' # Переход в корень git-репозитория

# Стековая навигация
alias pu='pushd'                # Добавляет каталог в стек каталогов.
alias po='popd'                 # Удаляет каталог из стека и переходит в него.
alias ds='dirs -v'              # Показывает стек каталогов.
# -- Просмотр и поиск --
alias clr='clear'               # Полностью очищает экран терминала.
alias hi='history'               # Выводит историю выполненных команд.
alias path='echo -e ${PATH//:/\\n}' # Отображает системную переменную PATH в удобном виде, каждый путь с новой строки.
alias tree='tree -C'            # Рекурсивно отображает содержимое каталога в виде дерева (требует утилиту `tree`).
alias tree-project='tree -C -I "node_modules|dist|build|venv|target|__pycache__"' # Отображает дерево каталогов, игнорируя стандартные папки разработки.

# -- Раздел 2: Управление файлами и каталогами --

# -- Безопасные операции (интерактивный режим для предотвращения ошибок) --
alias rm='rm -I'                # Запрашивает подтверждение перед удалением более 3 файлов или рекурсивно, предотвращая случайные потери.
# alias cp='cp -iv'                # Запрашивает подтверждение перед перезаписью существующего файла и выводит что скопировано.
# alias mv='mv -iv'                # Запрашивает подтверждение перед перезаписью файла при перемещении и выводит что перемешено.
alias rmdir='rmdir -v'           # выводит какая папка удалена
alias del='trash'                # Безопасное удаление: перемещает файл в корзину (использует функцию trash).

# -- Улучшенное копирование и создание каталогов --
alias cpv='rsync -ah --info=progress2' # Копирует файлы и каталоги с отображением прогресса (требует утилиту `rsync`).
alias mkdir='mkdir -pv'         # Создает каталог, включая все родительские, и выводит информацию о процессе.

# -- Поиск файлов и каталогов --
alias fhere='find . -name'      # Ищет файлы и каталоги по имени в текущем каталоге.

# Управление правами (с защитой корня)
alias chmx='chmod +x'           # Дает файлу права на исполнение для всех пользователей.
alias chown='chown -c --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения владельца.
alias chmod='chmod -c --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения прав.
alias chgrp='chgrp -c --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения группы.

# -- Раздел 3: Системное администрирование и мониторинг --

# -- Мониторинг ресурсов --
alias dfa='df -Thal --total'      # Показывает использование дискового пространства в удобном для чтения формате с указанием типов файловых систем и итоговой строкой.
alias df='df -hT --exclude-type=tmpfs --exclude-type=devtmpfs --exclude-type=squashfs'      # Показать , кроме виртуальных систем snap-пакетов.
alias free='free -m'            # Отображает информацию об использовании оперативной памяти и файла подкачки в мегабайтах.
alias top='htop'                # Запускает интерактивный монитор процессов `htop` (более продвинутый аналог `top`, если установлен).
alias uptime='uptime -p'        # Показывает, как долго система работает с момента последней загрузки, в человекочитаемом формате.

# -- Мониторинг процессов --
alias psmem='ps auxf | sort -nr -k 4 | head -10' # Выводит 10 самых ресурсоемких по памяти процессов.
alias pscpu='ps auxf | sort -nr -k 3 | head -10' # Выводит 10 самых ресурсоемких по CPU процессов.

# -- Системная информация --
alias unamea='uname -a'         # Выводит всю доступную информацию о системе (ядро, имя хоста, архитектура).
# Системные журналы (journalctl)

alias jnl='journalctl'                      # Показать все журналы
alias jnlf='journalctl -f'                  # Следить за журналами в реальном времени (follow)
alias jnlk='journalctl -k'                  # Показать только сообщения ядра (kernel)
alias jnle='journalctl -p 3 -xb'            # Показать ошибки (err) и выше с текущей загрузки с пояснениями
alias jnl-yest='journalctl --since "yesterday"' # Показать журналы со вчерашнего дня
alias jnl-boot='journalctl -b'              # Показать журналы с текущей загрузки


# -- Раздел 4: Управление сетью и диагностика --

alias ports='ss -tulanp'        # Показывает все активные сетевые соединения и слушающие порты (современная замена netstat).
alias ports-listening='ss -tulpn' # Показывает только слушающие (listening) TCP и UDP порты.
alias myip='curl -s ifconfig.me; echo' # Определяет и выводит ваш внешний (публичный) IP-адрес.
alias localip="hostname -I | awk '{print \$1}'" # Определяет и выводит ваш локальный IP-адрес в сети.
alias ping='ping -c 5'          # Отправляет 5 ICMP-пакетов для быстрой проверки доступности хоста.
alias pingtest='ping -c 4 google.com' # Проверяет наличие интернет-соединения, пингуя серверы Google.
alias wget='wget -c'            # Запускает `wget` с опцией докачки файла в случае обрыва соединения.
alias serve='python3 -m http.server' # Запускает простой HTTP-сервер для раздачи файлов из текущего каталога.
alias serve-here-php='php -S 0.0.0.0:8000' # Запускает простой веб-сервер на PHP в текущем каталоге.
alias digg='dig +short'         # Выполняет DNS-запрос и показывает только IP-адрес.

# -- Раздел 5: Контроль версий с Git --
alias g='git'                   # Сокращение для основной команды git.
alias gs='git status -sb'       # Показывает краткий статус репозитория с указанием текущей ветки.
alias gss='git status -s'       # Показывает максимально краткий статус изменений.
alias glog="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit" # Выводит красивый, отформатированный и сокращенный лог коммитов в виде графа.
alias glog-current="git log --oneline --graph --decorate"     # Показывает лог коммитов для текущей ветки в компактном виде
 
alias ga='git add'              # Добавляет файлы в индекс для коммита.
alias gaa='git add --all'       # Добавляет в индекс все измененные, новые и удаленные файлы в текущем каталоге.
alias gb='git branch'           # Работает с ветками: просмотр, создание, удаление.
alias gc='git commit -m'        # Создает коммит с переданным в строке сообщением.
alias gca='git commit -a -m'    # Индексирует все измененные отслеживаемые файлы и создает коммит с сообщением.
alias gcamend='git commit --amend --no-edit' # Добавляет изменения в последний коммит, не открывая редактор для сообщения.
alias gco='git checkout'        # Переключается между ветками или коммитами.
alias gcb='git checkout -b'     # Создает новую ветку и немедленно переключается на нее.
alias gd='git diff'             # Показывает изменения в файлах.
alias gds='git diff --staged'   # Показывает изменения, добавленные в индекс (staged).
alias gm='git merge'            # Выполняет слияние одной ветки в другую.
alias gp='git push'             # Отправляет локальные коммиты на удаленный репозиторий.
alias gpf='git push --force-with-lease' # Выполняет принудительный push, только если удаленная ветка не была обновлена кем-то еще.
alias gpl='git pull'            # Загружает изменения с удаленного репозитория и сливает их с текущей веткой.
alias gplr='git pull --rebase'  # Загружает изменения и применяет локальные коммиты поверх них, сохраняя линейную историю.
alias gf='git fetch --all --prune' # Загружает все данные из удаленных репозиториев и удаляет локальные ссылки на удаленные ветки.
alias gundo='git reset --soft HEAD~1' # Отменяет последний коммит, но сохраняет все изменения в файлах (готовы к новому коммиту).
alias gundo-hard='git reset --hard HEAD~1' # Отменяет последний коммит, возвращая изменения в рабочую область

# -- Раздел 6: Инструментарий разработчика --

# Пакетные менеджеры (раскомментируйте нужный блок)


# # Для Alt Linux (использует apt-get и epm):
# alias update='sudo apt-get update && sudo apt-get dist-upgrade -y' # Обновление списка пакетов и системы
# alias install='sudo apt-get install'  # Установка пакета через apt-get
# alias remove='sudo apt-get remove'    # Удаление пакета через apt-get
# alias search='epm search'             # Поиск пакета через epm
# alias epm-install='epm install'       # Установка пакета через epm
# alias epm-remove='epm remove'         # Удаление пакета через epm


# NPM
alias ni='npm install'          # Устанавливает зависимости проекта (сокращение для npm install).
alias nis='npm install --save'  # Устанавливает пакет и добавляет его в dependencies.
alias nid='npm install --save-dev' # Устанавливает пакет и добавляет его в devDependencies.
alias nig='npm install --global' # Устанавливает пакет глобально.
alias nr='npm run'              # Запускает скрипт, определенный в package.json.
alias nrt='npm run test'        # Запускает тестовый скрипт.
alias nci='npm ci'              # Выполняет "чистую" установку зависимостей из package-lock.json.

# Yarn (v1)
alias ya='yarn add'             # Добавляет зависимость.
alias yad='yarn add --dev'      # Добавляет зависимость для разработки.
alias yr='yarn remove'          # Удаляет зависимость.
alias yi='yarn install'         # Устанавливает все зависимости проекта.
alias yg='yarn global add'      # Устанавливает пакет глобально.

# Composer
alias ci='composer install'     # Устанавливает зависимости из composer.lock.
alias cu='composer update'      # Обновляет зависимости до последних версий.
alias cr='composer require'     # Добавляет новую зависимость в require.
alias crd='composer require --dev' # Добавляет новую зависимость в require-dev.
alias cda='composer dump-autoload -o' # Оптимизирует автозагрузчик классов.

# Docker (предполагается, что пользователь в группе docker)
alias dps='docker ps -a'   # Показывает все контейнеры Docker (включая остановленные).
alias di='docker images'   # Показывает список всех образов Docker.
alias dex='docker exec -it' # Запускает интерактивную сессию (например, bash) внутри работающего контейнера.

# -- Kubernetes --
alias k='kubectl'               # Базовое сокращение для команды kubectl.
alias kg='kubectl get'          # Получает информацию о ресурсах Kubernetes.
alias kd='kubectl describe'     # Показывает подробное описание ресурса Kubernetes.
alias ka='kubectl apply -f'     # Применяет конфигурацию из файла к кластеру.
alias kga='kubectl get all --all-namespaces' # Показывает все ресурсы во всех пространствах имен.

# -- Python --
alias ve='python3 -m venv ./venv' # Создает новое виртуальное окружение Python 3 в каталоге `./venv`.
alias va='source ./venv/bin/activate' # Активирует виртуальное окружение Python из каталога `./venv`.
alias vdeact='deactivate'       # Деактивирует текущее виртуальное окружение Python.

# -- Раздел 7: Удобство и мета-команды --

# -- Поиск с подсветкой --
alias grep='grep --color=auto'  # Варианты `grep` с автоматической подсветкой найденных совпадений.
alias egrep='egrep --color=auto' # Варианты `grep` с автоматической подсветкой найденных совпадений.
alias fgrep='fgrep --color=auto' # Варианты `grep` с автоматической подсветкой найденных совпадений.

# -- Быстрое редактирование конфигурационных файлов --
# Использует переменную $EDITOR, если она задана, иначе nano
alias bashrc='${EDITOR:-nano} ~/.bashrc'       # Открывает .bashrc для редактирования.
alias aliases='${EDITOR:-nano} ~/.bash_aliases' # Открывает этот файл для редактирования.
alias funcs='${EDITOR:-nano} ~/.bash_functions' # Открывает файл с функциями bash.
alias exports='${EDITOR:-nano} ~/.bash_export' # Открывает файл с переменными окружения.

# -- Перезагрузка конфигурации и работа с sudo --
alias reload='source ~/.bashrc && echo "Конфигурация Bash перезагружена!"' # Перезагружает конфигурацию Bash для текущей сессии.
# Пробел в конце заставляет Bash проверять следующее слово на наличие псевдонима.
# Это позволяет конструкциям вроде 'sudo ll' работать корректно.
alias sudo='sudo '              # Это позволяет конструкциям вроде 'sudo ll' работать корректно.
# Просмотр архивов
alias lstar='tar -tvf'          # Показывает содержимое tar-архива без извлечения.

# Псевдонимы для управления питанием через systemd
alias reboota='sudo systemctl reboot' # Перезагружает систему (используя systemd).
alias poweroffa='sudo systemctl poweroff' # Выключает систему (используя systemd).

# Интеграция с буфером обмена (требует xclip)
# Требует утилиту xclip (sudo apt install xclip)
# Копирует стандартный ввод в буфер обмена
# Использование: echo "hello" | cb-copy
alias cb-copy='xclip -selection clipboard' # Копирует стандартный ввод в буфер обмена

# Вставляет содержимое буфера обмена в стандартный вывод
# Использование: cb-paste > file.txt
alias cb-paste='xclip -selection clipboard -o' # Вставляет содержимое буфера обмена в стандартный вывод

# ==============================================================================
#   Дополнительные псевдонимы
# ==============================================================================

# -- Раздел 8: Архивирование и просмотр --
# Примечание: Для создания и извлечения архивов используйте функции `targz`, `zipf` и `extract` из .bash_functions.
alias tart='tar -tzvf'           # Просмотреть содержимое tar.gz архива
alias zipt='unzip -l'           # Просмотреть содержимое zip архива

# -- Раздел 10: SSH и удаленная работа --
# Rsync операции (гораздо удобнее, чем scp)
alias rsc='rsync -avh --progress'     # Копирование с прогрессом (copy)
alias rsu='rsync -avhu --progress'  # Копирование только обновленных файлов (update)
alias rss='rsync -avh --delete --progress' # Полная синхронизация (sync)

# -- Раздел 11: Системные службы и мониторинг --
# Управление службами Systemd
alias sc='sudo systemctl'       # Краткий алиас для systemctl
alias scst='sudo systemctl status' # Статус службы (status)
alias scrt='sudo systemctl restart' # Перезапуск службы (restart)
alias scen='sudo systemctl enable' # Включить автозапуск службы (enable)
alias scds='sudo systemctl disable' # Отключить автозапуск службы (disable)
alias bootblame='systemd-analyze blame' # Показать, какие службы тормозят загрузку
alias now='date "+%Y-%m-%d %H:%M:%S"' # Текущее время в удобном формате
