# ~/.bash_aliases
# ==============================================================================
#
#   Объединенная и улучшенная коллекция псевдонимов Bash для повышения
#   производительности. Этот файл объединяет лучшие практики, удаляет
#   дубликаты и организует псевдонимы по логическим разделам с подробными
#   комментариями для удобства использования и поддержки.
#
# ==============================================================================

# ==============================================================================
#  Раздел 1: Навигация и отображение содержимого
# ==============================================================================

# -- Улучшенный и цветной вывод 'ls' --
alias ls='ls -AhF --color=auto' # Показывает содержимое каталога, включая скрытые файлы (кроме . и ..), с классификацией по типу и цветной подсветкой.
alias l='ls -l'                 # Выводит подробный список файлов и каталогов (права, владелец, размер, дата) без скрытых файлов.
alias ll='ls -alF'              # Выводит подробный список ВСЕХ файлов (включая скрытые) с классификацией по типу.
alias la='ls -la'               # Аналог `ll`, выводит подробный список всех файлов.
alias lart='ls -alrt'           # Выводит подробный список всех файлов, отсортированный по дате изменения (самые новые в конце).
alias lS='ls -lSrh'             # Выводит подробный список всех файлов, отсортированный по размеру (самые большие в конце).
alias lt='ls --human-readable --size -1 -S --classify' # Сортирует файлы по размеру (от большего к меньшему) в одну колонку.

# -- Быстрая навигация по каталогам --
alias ..='cd ..'                # Быстрый переход в родительский каталог.
alias ...='cd ../..'            # Быстрый переход на два каталога вверх.
alias ....='cd ../../..'        # Быстрый переход на три каталога вверх.
alias cd..='cd ..'              # Корректирует частую опечатку при переходе в родительский каталог.
alias -- -='cd -'               # Переключает на предыдущий рабочий каталог.

# -- Просмотр и поиск --
alias c='cat'                   # Выводит содержимое файла в терминал.
alias cl='clear'                # Полностью очищает экран терминала.
alias h='history'               # Выводит историю выполненных команд.
alias hg='history | grep'       # Ищет в истории команд по заданному шаблону.
alias path='echo -e ${PATH//:/\\n}' # Отображает системную переменную PATH в удобном виде, каждый путь с новой строки.
alias tree='tree -C'            # Рекурсивно отображает содержимое каталога в виде дерева (требует утилиту `tree`).

# ==============================================================================
#  Раздел 2: Управление файлами и каталогами
# ==============================================================================

# -- Безопасные операции (интерактивный режим для предотвращения ошибок) --
alias rm='rm -Iv'                # Запрашивает подтверждение перед удалением более 3 файлов или рекурсивно, предотвращая случайные потери.
alias cp='cp -iv'                # Запрашивает подтверждение перед перезаписью существующего файла и выводит что скопировано.
alias mv='mv -iv'                # Запрашивает подтверждение перед перезаписью файла при перемещении и выводит что перемешено.
alias rmdir='rmdir -v'           # выводит какая папка удалена

# -- Улучшенное копирование и создание каталогов --
alias cpv='rsync -ah --info=progress2' # Копирует файлы и каталоги с отображением прогресса (требует утилиту `rsync`).
alias mkdir='mkdir -pv'         # Создает каталог, включая все родительские, и выводит информацию о процессе.

# -- Поиск файлов и каталогов --
alias ff='find . -type f -name' # Ищет ФАЙЛ по имени в текущем каталоге и его подкаталогах. Использование: ff "имя_файла"
alias fd='find . -type d -name' # Ищет КАТАЛОГ по имени в текущем каталоге и его подкаталогах. Использование: fd "имя_папки"
alias fhere='find . -name'      # Ищет файлы и каталоги по имени в текущем каталоге.

# -- Управление правами и владельцем --
alias chmx='chmod +x'           # Дает файлу права на исполнение для всех пользователей.
alias chown='chown --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения владельца.
alias chmod='chmod --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения прав.
alias chgrp='chgrp --preserve-root' # Защищает корневую файловую систему от случайного рекурсивного изменения группы.

# ==============================================================================
#  Раздел 3: Системное администрирование и мониторинг
# ==============================================================================

# -- Мониторинг ресурсов --
alias df='df -Tha --total'      # Показывает использование дискового пространства в удобном для чтения формате с указанием типов файловых систем и итоговой строкой.
alias du='du -ach'              # Показывает размер текущего каталога и его содержимого в читаемом формате.
alias dus='du -sh * | sort -rh' # Показывает суммарный размер каждого файла и каталога в текущей директории, отсортированный по убыванию.
alias free='free -m'            # Отображает информацию об использовании оперативной памяти и файла подкачки в мегабайтах.
alias top='htop'                # Запускает интерактивный монитор процессов `htop` (более продвинутый аналог `top`, если установлен).
alias uptime='uptime -p'        # Показывает, как долго система работает с момента последней загрузки, в человекочитаемом формате.

# -- Мониторинг процессов --
alias psg='ps aux | grep -v grep | grep -i' # Ищет запущенные процессы по имени, исключая сам процесс поиска.
alias psmem='ps auxf | sort -nr -k 4 | head -10' # Выводит 10 самых ресурсоемких по памяти процессов.
alias pscpu='ps auxf | sort -nr -k 3 | head -10' # Выводит 10 самых ресурсоемких по CPU процессов.

# -- Системная информация --
alias unamea='uname -a'         # Выводит всю доступную информацию о системе (ядро, имя хоста, архитектура).
alias sysinfo='free -h && df -h / && lscpu | grep "Model name\|CPU(s)"' # Предоставляет краткую сводку о системе: память, диск и процессор.

# ==============================================================================
#  Раздел 4: Управление сетью и диагностика
# ==============================================================================

alias ports='ss -tulanp'        # Показывает все активные сетевые соединения и слушающие порты (современная замена netstat).
alias myip='curl -s ifconfig.me; echo' # Определяет и выводит ваш внешний (публичный) IP-адрес.
alias localip="hostname -I | awk '{print \$1}'" # Определяет и выводит ваш локальный IP-адрес в сети.
alias ping='ping -c 5'          # Отправляет 5 ICMP-пакетов для быстрой проверки доступности хоста.
alias pingtest='ping -c 4 google.com' # Проверяет наличие интернет-соединения, пингуя серверы Google.
alias wget='wget -c'            # Запускает `wget` с опцией докачки файла в случае обрыва соединения.
alias serve='python3 -m http.server' # Запускает простой HTTP-сервер для раздачи файлов из текущего каталога.
alias digg='dig +short'         # Выполняет DNS-запрос и показывает только IP-адрес.

# ==============================================================================
#  Раздел 5: Контроль версий с Git
# ==============================================================================
alias g='git'                   # Сокращение для основной команды git.
alias gs='git status -sb'       # Показывает краткий статус репозитория с указанием текущей ветки.
alias gss='git status -s'       # Показывает максимально краткий статус изменений.
alias glog="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit" # Выводит красивый, отформатированный и сокращенный лог коммитов в виде графа.
alias ga='git add'              # Добавляет файлы в индекс для коммита.
alias gaa='git add --all'       # Добавляет в индекс все измененные, новые и удаленные файлы в текущем каталоге.
alias gb='git branch'           # Работает с ветками: просмотр, создание, удаление.
alias gc='git commit -m'        # Создает коммит с переданным в строке сообщением.
alias gca='git commit -a -m'    # Индексирует все измененные отслеживаемые файлы и создает коммит с сообщением.
alias gcamend='git commit --amend --no-edit' # Добавляет изменения в последний коммит, не открывая редактор для сообщения.
alias gco='git checkout'        # Переключается между ветками или коммитами.
alias gcb='git checkout -b'     # Создает новую ветку и немедленно переключается на нее.
alias gd='git diff'             # Показывает изменения в файлах.
alias gm='git merge'            # Выполняет слияние одной ветки в другую.
alias gp='git push'             # Отправляет локальные коммиты на удаленный репозиторий.
alias gpf='git push --force-with-lease' # Выполняет принудительный push, только если удаленная ветка не была обновлена кем-то еще.
alias gpl='git pull'            # Загружает изменения с удаленного репозитория и сливает их с текущей веткой.
alias gplr='git pull --rebase'  # Загружает изменения и применяет локальные коммиты поверх них, сохраняя линейную историю.
alias gf='git fetch --all --prune' # Загружает все данные из удаленных репозиториев и удаляет локальные ссылки на удаленные ветки.
alias gundo='git reset --soft HEAD~1' # Отменяет последний коммит, но сохраняет все изменения в файлах (готовы к новому коммиту).

# ==============================================================================
#  Раздел 6: Инструментарий разработчика
# ==============================================================================

# -- Управление пакетами (раскомментируйте нужный блок для вашей системы) --
# # Для Debian/Ubuntu:
# alias update='sudo apt update && sudo apt upgrade -y'
# alias install='sudo apt install'
# alias remove='sudo apt remove'
#
# # Для RHEL/CentOS/Fedora:
# # alias update='sudo yum update && sudo yum upgrade -y'
# # alias install='sudo yum install'
# # alias remove='sudo yum remove'
#
# # Для Arch Linux:
# # alias paci='sudo pacman -S'
# # alias pacu='sudo pacman -Syu'
# # alias pacr='sudo pacman -Rns'
# # alias pacs='pacman -Ss'
#
# # Для Alt Linux (использует apt-get и epm):
# alias update='sudo apt-get update && sudo apt-get dist-upgrade -y' # Обновление списка пакетов и системы
# alias install='sudo apt-get install'  # Установка пакета через apt-get
# alias remove='sudo apt-get remove'    # Удаление пакета через apt-get
# alias search='epm search'             # Поиск пакета через epm
# alias epm-install='epm install'       # Установка пакета через epm
# alias epm-remove='epm remove'         # Удаление пакета через epm

# -- Docker --
alias dps='sudo docker ps -a'   # Показывает все контейнеры Docker (включая остановленные).
alias di='sudo docker images'   # Показывает список всех образов Docker.
alias dex='sudo docker exec -it' # Запускает интерактивную сессию (например, bash) внутри работающего контейнера.

# -- Kubernetes --
alias k='kubectl'               # Базовое сокращение для команды kubectl.
alias kg='kubectl get'          # Получает информацию о ресурсах Kubernetes.
alias kd='kubectl describe'     # Показывает подробное описание ресурса Kubernetes.
alias ka='kubectl apply -f'     # Применяет конфигурацию из файла к кластеру.
alias kga='kubectl get all --all-namespaces' # Показывает все ресурсы во всех пространствах имен.

# -- Python --
alias ve='python3 -m venv ./venv' # Создает новое виртуальное окружение Python 3 в каталоге `./venv`.
alias va='source ./venv/bin/activate' # Активирует виртуальное окружение Python из каталога `./venv`.

# ==============================================================================
#  Раздел 7: Удобство и мета-команды
# ==============================================================================

# -- Поиск с подсветкой --
alias grep='grep --color=auto'  # Варианты `grep` с автоматической подсветкой найденных совпадений.
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'

# -- Быстрое редактирование конфигурационных файлов --
# Использует переменную $EDITOR, если она задана, иначе nano
alias bashrc='${EDITOR:-nano} ~/.bashrc'       # Открывает .bashrc для редактирования.
alias aliases='${EDITOR:-nano} ~/.bash_aliases' # Открывает этот файл для редактирования.
alias funcs='${EDITOR:-nano} ~/.bash_functions' # Открывает файл с функциями bash.
alias exports='${EDITOR:-nano} ~/.bash_exports' # Открывает файл с переменными окружения.

# -- Перезагрузка конфигурации и работа с sudo --
alias reload='source ~/.bashrc && echo "Конфигурация Bash перезагружена!"'
# Пробел в конце заставляет Bash проверять следующее слово на наличие псевдонима.
# Это позволяет конструкциям вроде 'sudo ll' работать корректно.
alias sudo='sudo '
